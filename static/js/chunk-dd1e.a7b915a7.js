(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-dd1e"],{Puaf:function(t,n,e){"use strict";var r=e("QW6n");e.n(r).a},QW6n:function(t,n,e){},"gDS+":function(t,n,e){t.exports={default:e("oh+g"),__esModule:!0}},lAbF:function(t,n,e){"use strict";e.r(n);var r=e("gDS+"),a=e.n(r),s=e("QbLZ"),i=e.n(s),o=e("L2JU"),c=e("sZnh"),u={name:"Dashboard",data:function(){return{score:""}},computed:i()({},Object(o.b)(["name","roles","info"])),methods:{formatCurrency:function(t){t=t.toString().replace(/\$|\,/g,""),isNaN(t)&&(t="0");var n=t==(t=Math.abs(t)),e=(t=Math.floor(100*t+.50000000001))%100;t=Math.floor(t/100).toString(),e<10&&(e="0"+e);for(var r=0;r<Math.floor((t.length-(1+r))/3);r++)t=t.substring(0,t.length-(4*r+3))+","+t.substring(t.length-(4*r+3));return(n?"":"-")+t+"."+e},triggerTurn:function(){var t=this;if(isNaN(this.score))return this.$message({type:"error",message:"请输入兑换积分"}),!1;if(this.score<5e3)return this.$message({type:"error",message:"兑换积分不满足5000"}),!1;var n=Math.floor(this.score/5e3),e=5e3*n,r=1.1*n;this.$confirm("您确定兑换"+e+"积分为"+this.formatCurrency(r)+"元?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.turnMoney()}).catch(function(){})},turnMoney:function(){var t=this,n={score:this.score};n=a()(n),Object(c.i)(n).then(function(n){n.error>-1?(t.$message({message:"兑换成功",type:"success",duration:3e3}),t.info.score=n.data.score,t.info.money=n.data.money,t.score=""):t.$message({message:n.msg||"兑换失败",type:"error",duration:3e3})})}}},f=(e("Puaf"),e("KHd+")),d=Object(f.a)(u,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"dashboard-container"},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("用户信息")])]),t._v(" "),e("div",{staticClass:"text item"},[t._v("\n      用户名："+t._s(t.name)+"\n    ")]),t._v(" "),e("div",{staticClass:"text item"},[t._v("\n      资金余额："+t._s(t._f("formatCurrency")(t.info.money/100))+" 元\n    ")]),t._v(" "),e("div",{staticClass:"text item"},[t._v("\n      积分："+t._s(t.info.score)+" "),e("span",{staticClass:"red"},[t._v("兑换说明：5000积分/1.1元")])]),t._v(" "),t.info.score>=5e3?e("div",[e("el-row",[e("el-col",{attrs:{span:8}},[e("div",{},[e("el-input",{attrs:{size:"small",placeholder:"请输入兑换积分"},model:{value:t.score,callback:function(n){t.score=n},expression:"score"}})],1)]),t._v(" "),e("el-col",{attrs:{span:8}},[e("div",{})]),t._v(" "),e("el-col",{attrs:{span:8}},[e("div",{},[e("el-button",{attrs:{type:"text"},on:{click:t.triggerTurn}},[t._v("兑换余额")])],1)])],1)],1):t._e()])],1)},[],!1,null,"5894c16c",null);d.options.__file="index.vue";n.default=d.exports},"oh+g":function(t,n,e){var r=e("WEpk"),a=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}},sZnh:function(t,n,e){"use strict";e.d(n,"d",function(){return s}),e.d(n,"b",function(){return i}),e.d(n,"g",function(){return o}),e.d(n,"c",function(){return c}),e.d(n,"h",function(){return u}),e.d(n,"e",function(){return f}),e.d(n,"f",function(){return d}),e.d(n,"a",function(){return l}),e.d(n,"i",function(){return h});var r=e("t3Un"),a={url:"/service/urlcore/webreg.php",method:"post",data:{}};function s(t){return a.data.f=36,a.data.i=t,Object(r.a)(a)}function i(t){return a.data.f=38,a.data.i=t,Object(r.a)(a)}function o(t){return a.data.f=37,a.data.i=t,Object(r.a)(a)}function c(t){return a.data.f=39,a.data.i=t,Object(r.a)(a)}function u(t){return a.data.f=35,a.data.i=t,Object(r.a)(a)}function f(t){return a.data.f=31,a.data.i=t,Object(r.a)(a)}function d(t){return a.data.f=32,a.data.i=t,Object(r.a)(a)}function l(t){return a.data.f=33,a.data.i=t,Object(r.a)(a)}function h(t){return a.data.f=40,a.data.i=t,Object(r.a)(a)}}}]);