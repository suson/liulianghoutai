(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3971"],{"8REc":function(t,e,i){},"gDS+":function(t,e,i){t.exports={default:i("oh+g"),__esModule:!0}},"hh5+":function(t,e,i){"use strict";var s=i("8REc");i.n(s).a},"oh+g":function(t,e,i){var s=i("WEpk"),r=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},q9VQ:function(t,e,i){"use strict";i.r(e);var s={components:{urlList:i("zKop").a}},r=i("KHd+"),a=Object(r.a)(s,function(){var t=this.$createElement;return(this._self._c||t)("url-list",{attrs:{menuType:"360_task",subMenuType:"360_ranking"}})},[],!1,null,null,null);a.options.__file="speed.vue";e.default=a.exports},sZnh:function(t,e,i){"use strict";i.d(e,"d",function(){return a}),i.d(e,"b",function(){return n}),i.d(e,"g",function(){return o}),i.d(e,"c",function(){return l}),i.d(e,"h",function(){return u}),i.d(e,"e",function(){return c}),i.d(e,"f",function(){return d}),i.d(e,"a",function(){return f}),i.d(e,"i",function(){return p});var s=i("t3Un"),r={url:"/service/urlcore/webreg.php",method:"post",data:{}};function a(t){return r.data.f=36,r.data.i=t,Object(s.a)(r)}function n(t){return r.data.f=38,r.data.i=t,Object(s.a)(r)}function o(t){return r.data.f=37,r.data.i=t,Object(s.a)(r)}function l(t){return r.data.f=39,r.data.i=t,Object(s.a)(r)}function u(t){return r.data.f=35,r.data.i=t,Object(s.a)(r)}function c(t){return r.data.f=31,r.data.i=t,Object(s.a)(r)}function d(t){return r.data.f=32,r.data.i=t,Object(s.a)(r)}function f(t){return r.data.f=33,r.data.i=t,Object(s.a)(r)}function p(t){return r.data.f=40,r.data.i=t,Object(s.a)(r)}},zKop:function(t,e,i){"use strict";var s=i("gDS+"),r=i.n(s),a=i("sZnh"),n={props:{menuType:{type:String,default:"baidu_task"},subMenuType:{type:String,default:"baidu_speed"}},data:function(){return{trusteeServerIP:{101:"1000IP,1.60元/天",103:"3000IP,2.60元/天",106:"6000IP,5.20元/天",110:"10000IP,9.80元/天"},listLoading:!0,labelPosition:"right",centerDialogVisible:!1,TrusteeDialogVisible:!1,listData:[],listTotal:0,listPage:1,listPageSize:10,multipleSelection:[],substituteForm:{urlid:0,day:"30",svcid:"103",nowpay:"1",odrid:0,etime:""},disabled:!1,substituteRet:{etime:"",allmoney:0,paymoney:0,pday:0},odrInfo:{},formLabelWidth:"150px"}},created:function(){this.fetchData()},updated:function(){},computed:{reversedMessage:function(){return this.formLabelWidth.split("").reverse().join("")}},watch:{"substituteForm.day":function(t,e){if(t>365||t<1)return this.$message({message:"请输入有效的服务时间（1-365）",type:"error",duration:3e3}),this.substituteForm.day=30,!1;this.getService()},"substituteForm.svcid":function(t,e){this.getService()},"substituteForm.nowpay":function(t,e){this.getService()}},filters:{urlStatusName:function(t){var e="";switch(t.toString()){case"0":e="离线";break;case"1":e="在线"}return e},shareStatusName:function(t){var e="";switch(t.toString()){case"0":e="停止优化";break;case"1":e="优化中"}return e},shareBtnName:function(t){var e="";switch(t.toString()){case"0":e="开始优化";break;case"1":e="停止优化"}return e},filterUrl:function(t,e){switch(t=t.split("|"),e){case"url":return t[0]||"";case"keyword":return t[1]||""}},getTrusteeServiceInfo:function(t){return this.getTrusteeServiceInfo(t)},showTrusteeService:function(t){return this.getTrusteeServiceInfo(t).showTitle||"无"},showOdrStatus:function(t){var e="";switch(parseInt(t)){case 1:e="按天付费";break;case 2:e="一次性付费"}return e},showSvcid:function(t){var e="";switch(parseInt(t)){case 101:e="1000IP";break;case 102:e="2000IP";break;case 103:e="3000IP";break;case 106:e="6000IP";break;case 110:e="10000IP";break;case 115:e="15000IP";break;case 120:e="20000IP";break;default:e="3000IP"}return e}},methods:{getTrusteeServiceInfo:function(t){var e={};for(var i in t)10!=t[i].svcid&&(e=t[i]);if(e.odrid){var s=parseInt(e.sday),r="剩",a=Math.floor(s/1440),n=Math.floor((s-1440*a)/60);return r+=a+"天"+n+"时"+(s-(1440*a+60*n))+"分",e.showTitle=r,e}return!1},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t},fetchData:function(){var t=this;this.listLoading=!1;var e={type:this.subMenuType,page:this.listPage,page_size:this.listPageSize};e=r()(e),Object(a.d)(e).then(function(e){t.listData=e.urls,t.listLoading=!1,t.listTotal=e.total})},delTip:function(){var t=this,e=[];for(var i in this.multipleSelection)e.push(this.multipleSelection[i].urlid);if(e.length<1)return this.$message({message:"请选择任务",type:"error",duration:3e3}),!1;this.$confirm("删除则不可恢复，确定删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.del(e)}).catch(function(){})},del:function(t){var e=this,i={ids:t};i=r()(i),Object(a.b)(i).then(function(i){if(i.error>-1){for(var s in t)for(var r in e.listData)if(t[s]==e.listData[r].urlid){e.listData.splice(r,1);break}e.$message({type:"success",message:"删除成功!"})}else e.$message({message:i.msg,type:"error",duration:3e3})})},addTask:function(){this.$router.push("/"+this.menuType+"/add")},operateOneItem:function(t,e){var i=0;i=0==e?1:0,this.$refs.multipleTable.clearSelection(),this.$refs.multipleTable.toggleRowSelection(t,!0),this.operate(i)},operate:function(t){var e=this,i=[];for(var s in this.multipleSelection)i.push(this.multipleSelection[s].urlid);if(i.length<1)return this.$message({message:"请选择任务",type:"error",duration:3e3}),!1;s={free:t,ids:i};s=r()(s),Object(a.g)(s).then(function(s){if(s.error>-1){for(var r in i)for(var a in e.listData)if(i[r]==e.listData[a].urlid){e.listData[a].free=t;break}e.$message({type:"success",message:"操作成功!"})}else e.$message({message:s.msg,type:"error",duration:3e3})})},edit:function(t){this.$router.push({path:"/"+this.menuType+"/edit/"+t.urlid})},showTrustee:function(t){var e=this.getTrusteeServiceInfo(t.odrs);this.odrInfo=e,this.TrusteeDialogVisible=!0},openTrustee:function(t,e){if(this.$refs.multipleTable.clearSelection(),this.$refs.multipleTable.toggleRowSelection(t,!0),this.substituteForm.urlid=t.urlid,1==e){var i=this.getTrusteeServiceInfo(t.odrs);this.disabled=!0,this.substituteForm.odrid=i.odrid,this.substituteForm.etime=i.etime}else this.disabled=!1;this.getService(),this.centerDialogVisible=!0},closeTrusteeTip:function(){var t=this;this.$confirm("您确认要退订网址代挂服务吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.closeTrustee()}).catch(function(){})},closeTrustee:function(){var t=this,e=this.odrInfo;e=r()(e),Object(a.a)(e).then(function(e){e.error>-1?(t.$message({message:"退订成功",type:"success",duration:3e3}),t.TrusteeDialogVisible=!1,t.fetchData()):t.$message({message:e.msg,type:"error",duration:3e3})})},getService:function(){var t=this,e=this.substituteForm;e=r()(e),Object(a.e)(e).then(function(e){e.error>-1?(t.substituteRet.etime=e.etime,t.substituteRet.allmoney=e.allmoney/100,t.substituteRet.paymoney=e.paymoney/100,t.substituteRet.pday=e.pday):t.$message({message:e.msg,type:"error",duration:3e3})})},submitTrustee:function(){var t=this,e=this.substituteForm;e=r()(e),Object(a.f)(e).then(function(e){e.error>-1?(t.$message({message:"开通成功",type:"success",duration:3e3}),t.fetchData()):t.$message({message:e.msg||"开通失败",type:"error",duration:3e3}),t.centerDialogVisible=!1})},handleCurrentChange:function(t){this.listPage=t,this.fetchData()}}},o=(i("hh5+"),i("KHd+")),l=Object(o.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-row",[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"grid-content bg-purple"},[i("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(e){t.addTask()}}},[t._v("创建新任务")])],1)])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"grid-content bg-purple"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"empty-text":"暂无数据",border:"",data:t.listData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"50"}}),t._v(" "),i("el-table-column",{attrs:{label:"id",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.urlid))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"标题",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"网址","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("filterUrl")(e.row.turl,"url")))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"关键字",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("filterUrl")(e.row.turl,"keyword")))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"今日分享",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.tdclick))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("urlStatusName")(e.row.online))+" "),i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(i){t.operateOneItem(e.row,e.row.free)}}},[t._v(t._s(t._f("shareBtnName")(e.row.free)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"网址代挂服务",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.getTrusteeServiceInfo(e.row.odrs)?t._e():i("el-button",{attrs:{size:"mini"},on:{click:function(i){t.openTrustee(e.row)}}},[t._v("立即开通")]),t._v(" "),t.getTrusteeServiceInfo(e.row.odrs)?i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(i){t.showTrustee(e.row,1)}}},[t._v(t._s(t.getTrusteeServiceInfo(e.row.odrs).showTitle))]):t._e(),t._v(" "),t.getTrusteeServiceInfo(e.row.odrs)?i("el-button",{attrs:{size:"mini"},on:{click:function(i){t.openTrustee(e.row,1)}}},[t._v("续费")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){t.edit(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),i("div",{staticStyle:{"margin-top":"20px"}},[i("el-col",{attrs:{span:6}},[i("el-button-group",[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-remove-outline"},on:{click:function(e){t.operate(0)}}},[t._v("停止")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-caret-right"},on:{click:function(e){t.operate(1)}}},[t._v("开始")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(e){t.delTip()}}},[t._v("删除")])],1)],1),t._v(" "),i("el-col",{attrs:{span:18}},[i("div",{staticStyle:{float:"right"}},[i("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next","page-size":t.listPageSize,total:t.listTotal},on:{"current-change":t.handleCurrentChange}})],1)])],1)],1)])],1),t._v(" "),i("el-dialog",{attrs:{title:"龙卷风软件-网址代挂服务",visible:t.centerDialogVisible,width:"60%"},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[i("el-col",{attrs:{span:24}},[i("p",[t._v("开通步骤：")])]),t._v(" "),i("el-form",{attrs:{model:t.substituteForm,"label-position":t.labelPosition}},[i("el-form-item",{attrs:{label:"1、请选择代挂流量：","label-width":t.formLabelWidth}},[i("el-select",{attrs:{placeholder:"请选择代挂流量",disabled:t.disabled},model:{value:t.substituteForm.svcid,callback:function(e){t.$set(t.substituteForm,"svcid",e)},expression:"substituteForm.svcid"}},t._l(t.trusteeServerIP,function(t,e){return i("el-option",{key:e,attrs:{label:t,value:e}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"2、请输入服务时间：","label-width":t.formLabelWidth}},[i("el-col",{attrs:{span:5}},[i("el-input",{model:{value:t.substituteForm.day,callback:function(e){t.$set(t.substituteForm,"day",t._n(e))},expression:"substituteForm.day"}})],1),t._v(" "),i("el-col",{attrs:{span:19}},[i("span",[t._v("天(范围:1-365天)")])])],1),t._v(" "),i("el-form-item",{attrs:{label:"到期时间：","label-width":t.formLabelWidth}},[i("el-col",{attrs:{span:24}},[i("span",{staticClass:"red"},[t._v(t._s(t.substituteRet.etime))])])],1),t._v(" "),i("el-form-item",{attrs:{label:"3、请选择付费方式：",prop:"resource","label-width":t.formLabelWidth}},[i("el-radio-group",{attrs:{disabled:t.disabled},model:{value:t.substituteForm.nowpay,callback:function(e){t.$set(t.substituteForm,"nowpay",e)},expression:"substituteForm.nowpay"}},[i("el-radio",{attrs:{label:"1"}},[t._v("一次性付费")]),t._v(" "),i("el-radio",{attrs:{label:"0"}},[t._v("按天付费")])],1)],1)],1),t._v(" "),i("el-col",{attrs:{span:24}},[i("p",{},[t._v("支付预算("),i("span",{staticClass:"red"},[t._v("当日不足1天按剩余时间计费")]),t._v(")：")]),t._v(" "),i("p",[t._v("当前支付："),i("span",{staticClass:"red"},[t._v(t._s(t._f("formatCurrency")(t.substituteRet.allmoney)))]),t._v(" 元，共需支付："),i("span",{staticClass:"red"},[t._v(t._s(t._f("formatCurrency")(t.substituteRet.paymoney)))]),t._v(" 元，赠送天数："),i("span",{staticClass:"red"},[t._v(t._s(t.substituteRet.pday))]),t._v(" 天")]),t._v(" "),i("p",[i("span",{staticClass:"red"},[t._v("注意：")])]),t._v(" "),i("p",{staticClass:"red"},[t._v("1、只有“按天付费”才可以在中途取消网址代挂服务； 2、取消网址代挂服务在当天凌晨才正式生效； ")])]),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.submitTrustee}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"网址代挂服务",visible:t.TrusteeDialogVisible,width:"30%"},on:{"update:visible":function(e){t.TrusteeDialogVisible=e}}},[i("p",[t._v("交易订单号："),i("span",[t._v(t._s(t.odrInfo.odrid))])]),t._v(" "),i("p",[t._v("费用支付方式："),i("span",[t._v(t._s(t._f("showOdrStatus")(t.odrInfo.status)))])]),t._v(" "),i("p",[t._v("网址代挂价格："),i("span",[t._v(t._s(t._f("formatCurrency")(t.odrInfo.dayprice/100))+" 元/天")])]),t._v(" "),i("p",[t._v("网址代挂流量："),i("span",[t._v(t._s(t._f("showSvcid")(t.odrInfo.svcid)))])]),t._v(" "),i("p",[t._v("代挂开始时间："),i("span",[t._v(t._s(t.odrInfo.btime))])]),t._v(" "),i("p",[t._v("代挂结束时间："),i("span",[t._v(t._s(t.odrInfo.etime))])]),t._v(" "),1==t.odrInfo.status?i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:t.closeTrusteeTip}},[t._v("退订代挂服务")])],1):t._e()])],1)},[],!1,null,"4030b635",null);l.options.__file="urlList.vue";e.a=l.exports}}]);